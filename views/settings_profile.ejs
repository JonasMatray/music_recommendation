
<%var pi = false;
var mi = false;
var errBD = false;%>

<%if (typeof(mes_erreurs) !== "undefined") {%>


    <%if (mes_erreurs === "pseudo invalid") {
        pi = true;
    }
    if (mes_erreurs === "mail invalid") {
        mi = true;
    }
    if (mes_erreurs === "db exec problem") {
        errBD = true;
    }%>



<%}%>

<div class="text-center">

    <div class="container">
        <main>
            <div class="py-5 text-center">
                <h2>Paramètres du profil</h2>
            </div>

            <div class="invalid-feedback" <%if ( errBD === true){%> style="display: block" <%}%>>
                L'opération n'a pas pu être éxécutée. Merci de réhitérer l'opération.
            </div>

            <div class="row g-5">
                <div>
                    <form class="needs-validation" action="/settings" method="post">
                        <div class="col-12">
                            <label for="username" class="form-label">Pseudo</label>
                            <p style="text-align: left">Pseudo actuel : </p>
                            <div class="input-group has-validation">
                                <span class="input-group-text">@</span>
                                <input type="text" class="form-control" id="username" name="pseudo" placeholder="Username">
                                <div class="invalid-feedback" <%if ( pi === true){%> style="display: block" <%}%>>
                                    Un pseudo valide doit être saisi.
                                </div>
                            </div>
                        </div>
                        <input name="pseudo_change" value="true" hidden>
                        <button class="w-30 btn btn-primary btn-lg" style="margin-top: 5px" type="submit">Changer le pseudo</button>
                    </form>
                        <hr class="my-4">

                        <form class="needs-validation" action="/settings" method="post">
                            <div class="col-12">
                                <label for="email" class="form-label">Email</label>
                                <p style="text-align: left">Mail actuel : </p>
                                <input type="email" class="form-control" id="email" name="mail" placeholder="you@example.com">
                                <div class="invalid-feedback" <%if ( mi === true){%> style="display: block" <%}%>>
                                    Merci d'entrer un mail valide.
                                </div>
                            </div>
                            <input name="mail_change" value="true" hidden>
                            <button class="w-30 btn btn-primary btn-lg" style="margin-top: 5px" type="submit">Changer l'adresse mail</button>

                    </form>
                    <hr class="my-4">
                    <form class="needs-validation" method="post" action="/settings">
                        <input name="pass_change" class="form-control" id="pass_change" value="true">
                        <button class="w-30 btn btn-primary btn-lg" type="submit">Changer le mot de passe</button>
                    </form>
                </div>
            </div>
        </main>
    </div>

</div>

